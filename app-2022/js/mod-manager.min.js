!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(){"use strict";if(window.AdManager)throw new Error("AdManager already loaded");var AdManager,PUBLIC_STATIC={},PRIVATE={tgmKeyHasChanged:0,lockTgmKeyChange:!1,pageAds:{},ads:{},curViewport:1,viewportAds:{},tagmanAds:{},libs:{},attributes:{},setupPromises:{},settings:{VIEWPORT_MAX:4,VIEWPORT_ORDER:[2,3,4],TGMKEY:null,PPI_URL:"http://ppi.terra.com.br/showArea.asp",RUBICON_ACCOUNT_ID:"10828",RUBICON_DFP_NETWORK_ID:"1211",RUBICON_TIMEOUT:3e3,PLATFORM:"web",THIRDPARTY_TIMEOUT:3e3,tagmanDefaultArea:"setup",TAGMAN_TIMEOUT:5e3,PPI_TIMEOUT:2e3,DFP_TIMEOUT:800,DFP_IFRAME_INTERVAL_CHECKER:501,DEFAULT_GOOGLE_TAG:null,NO_ADS:!1,ADS_METRICS_PUSH:10,ADS_METRICS_PERCENTAGE:10,EXP_DISCARD_SETUP_FOR_TGMKEY:/\.(selo)/i},curEnv:"prd",env:{prd:{htmlPath:"/globalSTATIC/fe/zaz-mod-manager/",htmlFile:"zaz-frame.html",tagmanURL:"https://p1.trrsf.com/tagmanfe/ShowArea.aspx"},dsv:{htmlPath:"../dist/",htmlFile:"zaz-frame.html",tagmanURL:"https://p1.trrsf.com/tagmanfe/ShowArea.aspx"}}};PRIVATE.getTgmKey=function(){var match=window.location.search.match("[?&]tgmkey=([^&]+)"),tgmkey=null;return match?(PRIVATE.lockTgmKeyChange=!0,tgmkey=match[1]):window.tgmKey&&(tgmkey=window.tgmKey),tgmkey},PRIVATE.isTGMKEYSetupable=function(tgmKey){var setupable=/(.+?[\.]){2,}/.test(tgmKey);return PRIVATE.settings.EXP_DISCARD_SETUP_FOR_TGMKEY instanceof RegExp&&PRIVATE.settings.EXP_DISCARD_SETUP_FOR_TGMKEY.test(tgmKey)&&(setupable=!1),/\.live/.test(tgmKey)&&tgmKey!==PRIVATE.settings.TGMKEY&&(setupable=!1),setupable},PRIVATE.waitForSetupDefinition=function(tgmKey){var timer,promise,done=!1,handlers={},isDocumentReady=!/in/.test(document.readyState);return promise=new Promise(function(resolve,reject){return console.log("[AdManager] waitForSetupDefinition for "+tgmKey),handlers.resolve=function(){done||(done=!0,timer&&(timer=clearInterval(timer)),PRIVATE.setupPromises[tgmKey]&&PRIVATE.setupPromises[tgmKey].resolve&&delete PRIVATE.setupPromises[tgmKey].resolve,PRIVATE.attributes["setup_done_for_"+tgmKey]||!PRIVATE.isTGMKEYSetupable(tgmKey)?(PRIVATE.isTGMKEYSetupable(tgmKey)?console.log("[AdManager] Setup resolved template declaration for tgmKey "+tgmKey):console.log("[AdManager] setup for "+tgmKey+" discarted by config"),resolve()):PRIVATE.requestSetupForTGMKEY(tgmKey).then(resolve,reject))},handlers.reject=function(){done=!0,timer&&(timer=clearInterval(timer)),PRIVATE.setupPromises[tgmKey].reject&&delete PRIVATE.setupPromises[tgmKey].reject,console.warn("[AdManager] setup for "+tgmKey+" rejected")},isDocumentReady||PRIVATE.attributes["setup_done_for_"+tgmKey]||!PRIVATE.isTGMKEYSetupable(tgmKey)?void handlers.resolve():(document.addEventListener("DOMContentLoaded",handlers.resolve,!1),void(timer=setInterval(function(){/in/.test(document.readyState)||(timer&&(timer=clearInterval(timer)),done||handlers.resolve())},300)))}),promise.resolve=handlers.resolve,promise},PRIVATE.requestSetupForTGMKEY=function(tgmKey){return tgmKey=tgmKey||PRIVATE.settings.TGMKEY,new Promise(function(resolve,reject){var url=PRIVATE.env[PRIVATE.curEnv].tagmanURL+"?key="+tgmKey+"."+PRIVATE.settings.tagmanDefaultArea+"&direct=1";console.log("[AdManager] Loading setup area for tgmKey "+tgmKey+"\n@ "+url),PRIVATE.Util.includeJS(url,function(){PRIVATE.log("[INFO] Successfully load setup tagman area."),PRIVATE.setupOnce=!0,PRIVATE.setupReady=!0,console.log("[AdManager] Setup resolved by external url for tgmKey "+tgmKey),resolve()},function(){var msg="[AdManager] Error loading setup area for tgmKey "+tgmKey+"\n@ "+url+"\nWe will try to load ups ads anymway...";PRIVATE.log("[ERROR] "+msg),resolve(msg),PUBLIC_STATIC.onError.call(this,msg)})})},PRIVATE.setup=function(settings){if("[object Object]"!=Object.prototype.toString.call(settings))return Promise.reject(new Error("Invalid settings to run setup: "+settings));var promise,tgmKey=settings.tgmkey||PRIVATE.settings.TGMKEY,isDocumentReady=!/in/.test(document.readyState);if(PRIVATE.setupPromises[tgmKey]){if((PRIVATE.attributes["setup_done_for_"+tgmKey]||!PRIVATE.isTGMKEYSetupable(tgmKey))&&"function"==typeof PRIVATE.setupPromises[tgmKey].resolve)try{PRIVATE.setupPromises[tgmKey].resolve()}catch(e){console.error("[AdManager] Error aborting dynamic setup of tgmkey "+tgmKey+": "+e.message,e)}}else if(console.log("[AdManager] First setup call for tgmKey "+tgmKey),PRIVATE.attributes["setup_done_for_"+tgmKey]||!PRIVATE.isTGMKEYSetupable(tgmKey))PRIVATE.isTGMKEYSetupable(tgmKey)?console.log("[AdManager] setup preloaded on template for "+tgmKey):console.log("[AdManager] setup for "+tgmKey+" discarted by config"),PRIVATE.setupPromises[tgmKey]=Promise.resolve(!0);else{"function"!=typeof settings.onBeforeStart&&(settings.onBeforeStart=isDocumentReady?PRIVATE.requestSetupForTGMKEY:PRIVATE.waitForSetupDefinition);try{PRIVATE.setupPromises[tgmKey]=settings.onBeforeStart(tgmKey)}catch(setupException){console.error("[AdManager] Error running setup of tgmkey "+tgmKey+": "+setupException.message,setupException),PRIVATE.setupPromises[tgmKey]=setupException}}return promise=new Promise(function(resolve,reject){PRIVATE.setupPromises[tgmKey]instanceof Promise?PRIVATE.setupPromises[tgmKey].then(resolve,reject):resolve(PRIVATE.setupPromises[tgmKey])})},PRIVATE.getGPT=function(){return PRIVATE.libs.gpt?PRIVATE.libs.gpt:(PRIVATE.log("[INFO] loading GPT API"),window.googletag&&"object"==typeof window.googletag||(window.googletag={}),window.googletag.cmd&&"object"==typeof window.googletag.cmd||(window.googletag.cmd=[]),PRIVATE.libs.gpt=new Promise(function(resolveGPT,rejectGPT){window.googletag.cmd.push(function(){try{var pageConfig={allowPushExpansion:!0,sandbox:!0};window.googletag.pubads().setSafeFrameConfig(pageConfig),window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices(),window.googletag.pubads().addEventListener("slotOnload",function(event){var width,height,placeholderElem,containerId=event.slot.getSlotElementId(),conf=PRIVATE.pageAds[containerId];if(!(conf.reloadSize&&conf.reloadSize[0]>1&&conf.reloadSize[1]>1)){if(placeholderElem=document.getElementById(conf.placeholder))try{conf.iframeElem=placeholderElem.getElementsByTagName("div")[0].getElementsByTagName("iframe")[0],PRIVATE.log("[INFO] Google Iframe for ["+conf.placeholder+"] found.")}catch(error){console.log("[AdManager] Cannot get sizes in Google Iframe for placeholder "+conf.placeholder)}conf.iframeElem&&(width=conf.iframeElem.getAttribute("width"),height=conf.iframeElem.getAttribute("height")),width>1&&height>1&&(conf.reloadSize=[width,height]),window.zaz.use(function(pkg){pkg.context.page.trigger("ad-slotrenderended",{sender:"zaz-admanager",id:containerId,slot:conf})})}}),window.googletag.pubads().addEventListener("slotRenderEnded",function(event){var width,height,placeholderElem,containerId=event.slot.getSlotElementId(),conf=PRIVATE.pageAds[containerId];if(conf){if(window.zaz.use(function(pkg){pkg.context.page.trigger("ad-slotrenderended",{sender:"zaz-admanager",id:containerId,slot:conf})}),conf.exibitions=conf.exibitions||0,conf.exibitions++,!conf.reloadSize)try{if(event.size&&"object"==typeof event.size&&2==event.size.length&&event.size[0]>1&&event.size[1]>1)width=event.size[0],height=event.size[1],"mob"==PRIVATE.settings.PLATFORM&&conf.parallax&&conf.parallax.visible&&conf.parallax.height>0&&(height=event.parallax.height);else{if(placeholderElem=document.getElementById(conf.placeholder))try{conf.iframeElem=placeholderElem.getElementsByTagName("div")[0].getElementsByTagName("iframe")[0],PRIVATE.log("[INFO] Google Iframe for ["+conf.placeholder+"] found.")}catch(error){console.log("[AdManager] Cannot get sizes in Google Iframe for placeholder "+conf.placeholder)}conf.iframeElem&&(width=conf.iframeElem.getAttribute("width"),height=conf.iframeElem.getAttribute("height"))}width=parseInt(width,10),height=parseInt(height,10),!width||!height||isNaN(width)||isNaN(height)?console.warn("[AdManager] Unknown dimensions for ["+conf.placeholder+"]. The corresponding iframe must declare a fixed width and height"):(console.log("[AdManager] AdSlot for placeholder "+conf.placeholder+" rendered as "+width+"x"+height),width>1&&height>1?conf.reloadSize=[width,height]:console.log("[AdManager] This adSlot is not reloadable: "+conf.placeholder))}catch(reloadSizeException){PRIVATE.log("[AdManager] Exception discovering reload size for "+conf.placeholder)}conf.resolve&&conf.resolve(conf)}}),PRIVATE.log("[INFO] GPT initialized")}catch(exception){PRIVATE.log("[WARN] Exception definning global setting for GPT: "+exception.message)}finally{resolveGPT(window.googletag)}}),window.zaz.use(function(pkg){PRIVATE.log("[INFO] requirering GPT API"),pkg.require(["mod.gpt"]).then(function(dependencies){var exception,googletag=dependencies.mod.gpt;return googletag&&"object"==typeof googletag&&"object"==typeof googletag.cmd&&"function"==typeof googletag.cmd.push?void PRIVATE.log("[INFO] mod.GPT successfully loaded by Includer"):(exception=new Error("GPT API not available"),PRIVATE.log("[ERROR] "+exception.message),rejectGPT(exception),exception)},function(e){var exception=new Error("Problem requesting GPT API: "+e.message);return PRIVATE.log("[ERROR] "+exception.message),rejectGPT(exception),exception})})}),PRIVATE.libs.gpt)},PRIVATE.getPrebid=function(){return PRIVATE.libs.prebid?PRIVATE.libs.prebid:(PRIVATE.libs.prebid=new Promise(function(resolvePrebid,rejectPrebid){PRIVATE.log("[INFO] Openning zaz frameworkt to require dependencies."),window.zaz.use(function(pkg){PRIVATE.log("[INFO] Requiring Prebid and GPT"),Promise.all([PRIVATE.getGPT(),pkg.require(["mod.prebid"])]).then(function(deps){var pbjs=deps[1];if(!pbjs||"object"!=typeof pbjs.mod||"object"!=typeof pbjs.mod.prebid||"object"!=typeof pbjs.mod.prebid.que)return void rejectPrebid(new Error("Error loading Prebid API: invalid object window.rubicontag."));var callEvent=!1,queryStrings=pkg.context.page.get("query"),templateType=pkg.context.publisher.get("template"),frequence={home:.05};templateType&&frequence[templateType]&&100*Math.random()<frequence[templateType]&&(callEvent=!0),queryStrings&&"true"==queryStrings["ga-prebid"]&&(callEvent=!0),callEvent&&window.pbjs.que.push(function(){window.pbjs.enableAnalytics([{provider:"ga",options:{global:"gaTerra",enableDistribution:!1}}])}),resolvePrebid(window.pbjs)},function(e){var exception=new Error("Problem requesting PREBID dependencies: "+e.message);PRIVATE.log("[ERROR] "+exception.message),rejectPrebid(exception)})})}),PRIVATE.libs.prebid)},PRIVATE.createWrapper=function(conf){var DOMElem=document.getElementById(conf.placeholder),wrapper=document.createElement("div"),computedStyle=window.getComputedStyle(DOMElem),minHeight=computedStyle.getPropertyValue("min-height");if("0px"==minHeight&&(minHeight=!1),wrapper.style.display="none",wrapper.id=conf.placeholder+"--wrapper",DOMElem.style.minHeight=minHeight||DOMElem.style.minHeight||"1px",DOMElem.parentNode.replaceChild(wrapper,DOMElem),wrapper.appendChild(DOMElem),wrapper.style.display="","mob"==PRIVATE.settings.PLATFORM&&conf.parallax&&conf.parallax.visible&&conf.parallax.height>0){DOMElem.style.height=conf.parallax.height+"px",DOMElem.className+=" ad-parallax-clip",DOMElem.parentNode.className+=" ad-parallax-container",DOMElem.parentNode.style.height=conf.parallax.height+"px";try{DOMElem.parentNode.parentNode.className.indexOf("w2h2")>-1&&(DOMElem.parentNode.parentNode.style.height=50+conf.parallax.height+"px")}catch(e){}}},PRIVATE.setKeywords=function(adslot,keywords){if(null!==keywords)try{for(var i in keywords)adslot.setTargeting(i,keywords[i])}catch(e){}var kwt360="false";window.terraVersion&&"terra360"==window.terraVersion&&(kwt360="true"),adslot.setTargeting("t360",kwt360)},PRIVATE.render=function(conf){PRIVATE.checkReloadRules(conf,[conf]);var renderAd;switch(conf.adserver){case"prebid":renderAd=PRIVATE.renderPrebid(conf);break;case"dfp":renderAd=PRIVATE.renderDFP(conf);break;case"uri":renderAd=PRIVATE.renderGeneric(conf);break;default:PRIVATE.log("[ERROR] Invalid adserver definition for ad "+conf.placeholder+".")}return renderAd},PRIVATE.renderDFP=function(conf){var mapping,gtag=null,keywords=null,DOMElem=document.getElementById(conf.placeholder),wrapper=null,adslot=null;return new Promise(function(resolve,reject){if(conf.resolve=resolve,conf.adslot||conf.reloaded){conf.reloadSize||(PRIVATE.log("[ERROR] Reload prevented because ad size could not be detected for "+conf.placeholder),reject());try{mapping=googletag.sizeMapping().addSize([0,0],conf.reloadSize).build(),conf.adslot=conf.adslot.defineSizeMapping(mapping),conf.adslot.setTargeting("refresh",++conf.adslot.countRefresh),googletag.pubads().refresh([conf.adslot])}catch(e){PRIVATE.log("[ERROR] Exception reloading "+conf.placeholder+" (using GPT API): "+e.message),reject()}}else PRIVATE.libs.gpt||PRIVATE.getGPT(),DOMElem&&"object"==typeof DOMElem&&1===DOMElem.nodeType?(wrapper=document.getElementById(conf.placeholder+"--wrapper"),wrapper||PRIVATE.createWrapper(conf)):(PRIVATE.log("[ERROR] Invalid placeholder "+conf.placeholder),reject()),PRIVATE.log("[INFO] renderDFP called ("+PRIVATE.settings.PLATFORM+")"),conf.viewport&&"viewport"==conf.renderType&&(conf.google_tag=conf.google_tag.substring(0,conf.google_tag.lastIndexOf("/"))+"/s"+conf.viewport),gtag=conf.google_tag&&"string"==typeof conf.google_tag?conf.google_tag:null,keywords=conf.keywords&&"object"==typeof conf.keywords?conf.keywords:null,null!==gtag&&PRIVATE.log("[INFO] Google Tag was found for ad "+conf.placeholder+" = "+gtag),PRIVATE.getGPT().then(function(googletag){PRIVATE.log("[INFO] GPT stuff... Defining slot, enabling single Requesting and services"),adslot=googletag.defineSlot(gtag||PRIVATE.settings.DEFAULT_GOOGLE_TAG,conf.sizes,conf.placeholder),conf.adslot=adslot,adslot.addService(googletag.pubads()),mapping=googletag.sizeMapping().addSize([0,0],conf.sizes).build(),conf.adslot.defineSizeMapping(mapping),conf.viewport&&adslot.setTargeting("viewport",("viewport"===conf.renderType?"s":"")+conf.viewport),conf.adslot.countRefresh=0,conf.adslot.setTargeting("refresh","0"),conf.reloaded||(PRIVATE.pageAds[conf.placeholder]=conf),PRIVATE.setKeywords(adslot,keywords),conf.customKW&&PRIVATE.setKeywords(adslot,conf.customKW),googletag.display(conf.placeholder),googletag.pubads().refresh([conf.adslot])}).then(null,function(e){PRIVATE.log("[ERROR] Exception triggering "+conf.placeholder+": "+e.message),reject()})})},PRIVATE.renderPrebid=function(conf){var wrapper,adUnitDivId,mapping,PREBID_TIMEOUT=conf.timeout||2e3,DOMElem=document.getElementById(conf.placeholder);return new Promise(function(resolve,reject){if(adUnitDivId=conf.placeholder,conf.resolve=resolve,conf.adslot||conf.reloaded){if(!conf.reloadSize)return void PRIVATE.log("[ERROR] Reload prevented because ad size could not be detected for "+conf.placeholder);try{mapping=googletag.sizeMapping().addSize([0,0],conf.reloadSize).build(),conf.adslot=conf.adslot.defineSizeMapping(mapping)}catch(mappingException){return PRIVATE.log("[ERROR] Exception remapping slot sizes of  "+conf.placeholder+" for reload (using GPT API): "+mappingException.message),void reject()}conf.adslot.clearTargeting(),conf.viewport&&conf.adslot.setTargeting("viewport",("viewport"===conf.renderType?"s":"")+conf.viewport),conf.adslot.setTargeting("refresh",++conf.adslot.countRefresh),PRIVATE.setKeywords(conf.adslot,conf.keywords),conf.customKW&&PRIVATE.setKeywords(conf.adslot,conf.customKW);var sendAdserverRequest=function(){googletag.cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync([conf.placeholder]),googletag.pubads().refresh([conf.adslot])})})};window.pbjs.que.push(function(){window.pbjs.requestBids({labels:["admanager"],adUnitCodes:[conf.placeholder],bidsBackHandler:sendAdserverRequest,timeout:PREBID_TIMEOUT})})}else{if(!DOMElem||"object"!=typeof DOMElem||1!==DOMElem.nodeType)return PRIVATE.log("[ERROR] Invalid placeholder "+conf.placeholder),void reject();wrapper=document.getElementById(conf.placeholder+"--wrapper"),wrapper||PRIVATE.createWrapper(conf),PRIVATE.getPrebid().then(function(){function sendAdserverRequest(x){if(console.log("PREBID sendAdserverRequest:",x),/^header\-ad/.test(conf.placeholder)&&window.performance&&"function"==typeof window.performance.mark)try{window.performance.mark("AD_S0_BIDDING_END")}catch(e){}googletag.cmd.push(function(){pbjs.que.push(function(){pbjs.setTargetingForGPTAsync([conf.placeholder]),googletag.pubads().refresh([conf.adslot])})})}var adslot;PRIVATE.log("[INFO] renderPrebid called ("+PRIVATE.settings.PLATFORM+")"),conf.viewport&&"viewport"==conf.renderType&&(conf.google_tag=conf.google_tag.substring(0,conf.google_tag.lastIndexOf("/"))+"/s"+conf.viewport),adslot=googletag.defineSlot(conf.google_tag,conf.sizes,adUnitDivId).addService(googletag.pubads()),conf.viewport&&adslot.setTargeting("viewport",("viewport"===conf.renderType?"s":"")+conf.viewport);var adUnits=[{labelAny:["admanager"],mediaTypes:{banner:{sizes:conf.sizes}},code:adUnitDivId,bids:conf.bids}];if(adUnits[0].mediaTypes=Object.assign({},adUnits[0].mediaTypes,conf.mediaTypes),conf.adslot=adslot,conf.adslot.countRefresh=0,conf.adslot.setTargeting("refresh","0"),/^header\-ad/.test(conf.placeholder)&&window.performance&&"function"==typeof window.performance.mark)try{window.performance.mark("AD_S0_BIDDING_START")}catch(e){}window.pbjs.que.push(function(){window.pbjs.enableSendAllBids&&window.pbjs.enableSendAllBids(),window.pbjs.addAdUnits(adUnits)}),conf.reloaded||(PRIVATE.pageAds[conf.placeholder]=conf),PRIVATE.setKeywords(conf.adslot,conf.keywords),conf.customKW&&PRIVATE.setKeywords(conf.adslot,conf.customKW),window.pbjs.que.push(function(){window.pbjs.requestBids({labels:["admanager"],adUnitCodes:[conf.placeholder],bidsBackHandler:sendAdserverRequest,timeout:PREBID_TIMEOUT})});try{console.log("[AdManager] triggering googletag.display() for "+conf.placeholder),window.googletag.display(conf.placeholder)}catch(googletagException){console.log("[AdManager] Exception triggering display() and Refresh on GPT for "+conf.placeholder),reject()}}).then(null,function(e){PRIVATE.log("[ERROR] Exception triggering "+conf.placeholder+": "+e.message),reject()})}})},PRIVATE.renderGeneric=function(conf){var _width=conf.sizes&&conf.sizes[0][0]&&conf.sizes[0][0]>0?conf.sizes[0][0]:null,_height=conf.sizes&&conf.sizes[0][1]&&conf.sizes[0][1]>0?conf.sizes[0][1]:null,time=new Date,iframeLoad=!1,placeholder=document.getElementById(conf.placeholder);if(placeholder){var wrapper=document.createElement("div");wrapper.id=conf.placeholder+"--wrapper",placeholder.parentNode.replaceChild(wrapper,placeholder),wrapper.appendChild(placeholder)}return PRIVATE.pageAds[conf.placeholder]=conf,new Promise(function(resolve,reject){conf.uri?PRIVATE.Util.FiF.create({placeholder:conf.placeholder,fifsrc:conf.uri,justrender:!0,width:_width,height:_height,callback:function(){var newTime=new Date,_message="Iframe was successfully created for ad "+conf.placeholder;iframeLoad=!0,PRIVATE.log("[INFO] "+_message),PRIVATE.log("[INFO] Generic AD for placeholder ["+conf.placeholder+"] was created in "+(newTime-time)+"ms"),resolve(conf)}}):(PRIVATE.log("[ERROR] Invalid settings rendering generic ad server ad"),reject())})},PRIVATE.loadShowArea=function(tagmanConf){return new Promise(function(resolve,reject){var includeTimer,includeTimeout=!1,backendViewport=AdManager.get("backend_getviewport"),addViewportAds=function(setCache){setCache&&PRIVATE.viewportAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.originalArea]||(PRIVATE.viewportAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.originalArea]=[]);for(var y in PRIVATE.ads)PRIVATE.ads[y].platform!==PRIVATE.settings.PLATFORM&&"responsive"!==PRIVATE.ads[y].platform||(PRIVATE.ads[y].viewport="stick"==tagmanConf.type?tagmanConf.area:tagmanConf.originalArea,PRIVATE.ads[y].renderType=tagmanConf.type,PRIVATE.ads[y].customKW=tagmanConf.customKW,PRIVATE.viewportAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.originalArea].push(PRIVATE.ads[y]));setCache&&(PRIVATE.tagmanAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.calculateArea]=JSON.parse(JSON.stringify(PRIVATE.viewportAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.originalArea]))),PRIVATE.ads={},resolve({instance:tagmanConf.context,ADS:PRIVATE.viewportAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.originalArea]})};if("viewport"==tagmanConf.type&&(PRIVATE.curViewport=tagmanConf.originalArea),PRIVATE.settings.NO_ADS)return PRIVATE.log("[WARN] HEY, JUST TO INFORM YOU: I'M IGNORING ADVERTISING. WHY? BECAUSE IT WAS DISABLED BY THE URL PARAMETER(noads)."),void resolve({ADS:[]});if("object"==typeof backendViewport&&backendViewport[tagmanConf.calculateArea]&&"function"==typeof backendViewport[tagmanConf.calculateArea]){PRIVATE.log("[INFO] Backend ADS, this request is already cached >>> "+tagmanConf.url);try{PRIVATE.viewportAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.originalArea]=[],backendViewport[tagmanConf.calculateArea].apply(this)}catch(e){PRIVATE.log("[ERROR] Something wrong with the cached request >>> "+tagmanConf.url),reject({error:tagmanConf.calculateArea+" ERROR | "+e})}addViewportAds(!0)}else PRIVATE.log("[INFO] GET URL >>> "+tagmanConf.url),PRIVATE.tagmanAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.calculateArea]?(PRIVATE.ads=JSON.parse(JSON.stringify(PRIVATE.tagmanAds[PRIVATE.settings.TGMKEY+"_"+tagmanConf.calculateArea])),addViewportAds(!1)):(PRIVATE.Util.includeJS(tagmanConf.url,function(){PRIVATE.log("[INFO] OK - GET URL >>> "+tagmanConf.url),includeTimeout=!0,clearTimeout(includeTimer),addViewportAds(!0)},function(e){PRIVATE.log("[ERROR] FAIL - GET URL >>> "+tagmanConf.url),PRIVATE.ads={};var err={error:"[TAGMAN REQUEST ERROR]"};reject(err),PUBLIC_STATIC.onError.call(this,err)}),PRIVATE.log("[INFO] Starting TAGMAN timeout checker...will wait "+PRIVATE.settings.TAGMAN_TIMEOUT+"ms for this request"),includeTimer=setTimeout(function(){if(!includeTimeout){PRIVATE.ads={};var message="TAGMAN TIMEOUT - The url "+tagmanConf.url+" took to long to load. None ads was delivered.";PRIVATE.log("[ERROR] "+message),reject({error:message}),PUBLIC_STATIC.onError.call(this,message)}},PRIVATE.settings.TAGMAN_TIMEOUT))})},PRIVATE.calcViewportN=function(n){var VIEWPORT_MAX=PRIVATE.settings.VIEWPORT_MAX,VIEWPORT_ORDER=PRIVATE.settings.VIEWPORT_ORDER;return n>VIEWPORT_MAX?(n-VIEWPORT_MAX-1)%VIEWPORT_ORDER.length:n},PRIVATE.reloadHandlers={always:function(current){var timer,reloads=0,conf=current;timer=setInterval(function(){PRIVATE.log("[INFO] Reload triggered for ad "+conf.placeholder+".");var elem=document.getElementById(conf.placeholder);try{if(!elem)throw new Error("[WARN] Container of "+conf.placeholder+" not found. Disabling automatic reload.");PUBLIC_STATIC.reload(conf.placeholder).then(function(data){reloads++,PRIVATE.log("[INFO] Reloded ad "+conf.placeholder),conf.reloadRule.times!==1/0&&reloads>=conf.reloadRule.times&&timer&&(timer=clearInterval(timer),PRIVATE.log("[INFO] Ad "+conf.placeholder+" reached its reload limit: "+conf.reloadRule.times+" times."))},function(e){timer&&(timer=clearInterval(timer)),e instanceof Error||(e=new Error("Unknown error >> "+e)),PRIVATE.log("[ERROR] Exception reloading ad "+conf.placeholder+": "+e.message)})}catch(e){timer&&(timer=clearInterval(timer)),PRIVATE.log("[ERROR] Exception reloading ad "+conf.placeholder+": "+e.message)}},conf.reloadRule.loop)},viewable:function(conf,wholeList){window.zaz&&zaz.use(function(pkg){pkg.require(["mod.viewable"],function(Viewable){if(!PRIVATE.libs.viewable){var viewable=new Viewable;PRIVATE.libs.viewable=viewable}})});var times=1,interval=null,timestamp=new Date,match=window.location.search.match("[?&]reload_interval=([^&]+)"),reloadIntervalByURL=match?match[1]:!1,supportsPageVisibility=function(){return void 0!==typeof document.visibilityState&&void 0!==typeof document.visibilityState},isPageVisible=function(){return!(!supportsPageVisibility()||"visible"!==document.visibilityState)},intervalReload=function(conf){interval&&clearInterval(interval),timestamp=new Date,conf.reloadRule&&conf.reloadRule.reload===!0&&(PRIVATE.log("[INFO] Enabling viewable reload for ad "+conf.placeholder),interval=setInterval(function(){document.getElementById(conf.placeholder)&&times<=conf.reloadRule.times?PRIVATE.libs.viewable&&reload(conf):(clearInterval(interval),PRIVATE.log("[INFO] Stopping to listen ad viewable "+conf.placeholder))},reloadIntervalByURL?reloadIntervalByURL:conf.reloadRule.loop))},reload=function(conf,force){var viewable=PRIVATE.libs.viewable,elem=document.getElementById(conf.placeholder);return timestamp=new Date,elem?void(force||isPageVisible()&&viewable.isVisible(elem,.5)?(PUBLIC_STATIC.reload(conf.placeholder).then(function(data){PRIVATE.log("[INFO] Reloading ad "+conf.placeholder)},function(e){}),times+=1):PRIVATE.log("[WARN] Ad "+conf.placeholder+" is not viewable or the page is hidden")):void PRIVATE.log("[WARN] placeholder for "+conf.placeholder+" NOT FOUND. Bypassing reload call.")},checkViewability=function(conf){var container=document.getElementById(conf.placeholder);PRIVATE.libs.viewable.onVisibilityChange(document.getElementById(conf.placeholder),.5,function(){var now=new Date;PRIVATE.log("[INFO]"+conf.placeholder+" is visible"),interval&&(interval=clearInterval(interval)),conf.viewedOnce?conf.reloadRule.reload===!0&&times<=conf.reloadRule.times&&now-timestamp>=(reloadIntervalByURL?reloadIntervalByURL:conf.reloadRule.loop)&&reload(conf,!0):timestamp=new Date,conf.viewedOnce=!0,intervalReload(conf)},function(){PRIVATE.log("[INFO]"+conf.placeholder+" is hidden")}),!conf.viewedOnce&&PRIVATE.libs.viewable.isVisible(container)&&(conf.viewedOnce=!0,intervalReload(conf))};PRIVATE.log("[INFO] Starting to listen viewable ad "+conf.placeholder+" for reloading feature"),window.zaz&&zaz.use(function(pkg){pkg.require(["mod.viewable"],function(Viewable){var placeholder,viewable=new Viewable(50);PRIVATE.libs.viewable=viewable;try{if(placeholder=conf.placeholder&&"string"==typeof conf.placeholder?document.getElementById(conf.placeholder):null,conf.reloadRule){if(!placeholder)return void PRIVATE.log("[WARN] There's no valid placeholder to apply viewable reloadRule: #"+conf.placeholder+" (element ofr this selector is "+Object.prototype.toString.call(placeholder)+")");if("string"==typeof conf.reloadRule&&(conf.reloadRule=JSON.parse(conf.reloadRule)),!conf.reloadRule||"object"!=typeof conf.reloadRule)throw new Error("Invalid value passed to reloadRule: "+conf.reloadRule);conf.reloadRule.reload===!0&&checkViewability(conf)}}catch(viewabilityException){PRIVATE.log("[ERROR] Applying viewabilty rules for "+conf.placeholder+": "+viewabilityException.message)}})})}},PRIVATE.checkReloadRules=function(conf,wholeList){if(!conf.reloadRulesApplyed){conf.reloadRulesApplyed=!0,PRIVATE.log("[INFO] Evaluating reload rules for "+conf.placeholder+".");var reloadRule;if("object"!=typeof conf||"object"!=typeof conf.reloadRule)return void PRIVATE.log("[WARN] There are no reload rules defined for ad "+conf.placeholder+". This one WILL NOT BE RELADED.");if(reloadRule=conf.reloadRule,reloadRule.reload){if(!reloadRule.type||"string"!=typeof reloadRule.type||"object"!=typeof PRIVATE.reloadHandlers||"function"!=typeof PRIVATE.reloadHandlers[reloadRule.type])return void PRIVATE.log('[WARN] Reload "type" invalid or not implemented for ad '+conf.placeholder+': "'+reloadRule.type+'". This one WILL NOT BE RELADED.');if(reloadRule.loop=parseInt(reloadRule.loop,10),isNaN(reloadRule.loop)||reloadRule.loop<35e3)return PRIVATE.log('[WARN] Invalid "loop" reload rule for ad '+conf.placeholder+": "+reloadRule.loop+". This one WILL NOT BE RELADED."),void(reloadRule.reload=!1);if(void 0===reloadRule.times&&(reloadRule.times=1/0),reloadRule.times!==1/0&&(reloadRule.times=parseInt(reloadRule.times,10)),reloadRule.times!==1/0&&("number"!=typeof reloadRule.times||isNaN(reloadRule.times)||reloadRule.times<=0))return PRIVATE.log('[WARN] Invalid "times" reload rule for ad '+conf.placeholder+": "+reloadRule.times+". This one WILL NOT BE RELADED."),void(reloadRule.reload=!1);try{PRIVATE.log("[INFO] Applying reload rules for "+conf.placeholder+"."),PRIVATE.reloadHandlers[reloadRule.type](conf,wholeList)}catch(e){PRIVATE.log('[Error] Exception triggering reload handler "'+reloadRule.type+'" for ad '+conf.placeholder+': "'+e.message+'". This one MAY NOT BE RELADED.')}}}},PRIVATE.log=function(log){PRIVATE.isDeubugging&&console.log(log)},PRIVATE.init=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],(PRIVATE.settings.BYPASS||document.location.search.match(/remove-ads=true/g))&&(PRIVATE.settings.NO_ADS=!0),/tpn=1/.test(location.search)&&location.search.replace(/[\?&]mod\.adManager\.(.+?)=([^&]+)/g,function(match,key,value){if(PRIVATE.log('[INFO] special queryString param detected: "'+key+"="+value+'"'),/^\d+$/.test(value))value=parseInt(value,10);else if(/^true|false$/.test(value))value="true"===value;else if(/\[.*?\]/.test(value)&&"object"==typeof window.JSON)try{value=JSON.parse(value)}catch(e){PRIVATE.log('[WARN] Error evaluating special queryString param "'+key+"="+value+'": '+e.message)}else try{value=decodeURIComponent(value)}catch(e){PRIVATE.log('[WARN] Error decoding special queryString param "'+key+"="+value+'": '+e.message)}PRIVATE.settings[key.toUpperCase()]=value})},PRIVATE.Util={},PRIVATE.Util.includeJS=function(url,success,error){if("string"!=typeof url)throw new Error("Invalid url for Javascript include.");if(void 0!==error&&"function"!=typeof success)throw new Error('Invalid success handler (second parameter) for Javascript include "'+url+'". It must be a function.');if(void 0!==error&&"function"!=typeof error)throw new Error('Invalid error handler (second parameter) for Javascript include "'+url+'". It must be a function.');var head=document.getElementsByTagName("head")[0],tag=document.createElement("script");tag.type="text/javascript",tag.async=!0,tag.charset="utf-8",tag.onload=tag.onreadystatechange=function(){if(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState){var details={src:this.src};this.onload=this.onreadystatechange=null;try{success.call(details,details)}catch(exception){exception.message="[Exceptions caught triggering error hadnler for request "+details.src+" » "+exception.message,error.call(details,details)}}},error&&tag.addEventListener&&tag.addEventListener("error",function(event){var details={src:url,evt:event};error.call(details,details)},!0),tag.src=url,head.appendChild(tag)},PRIVATE.Util.FiF=function(doc){var FiF={core:{settings:{placeholder:"",fifsrc:"iframe.html",adsrc:null,adcode:null,width:"",height:"",callback:function(){}},buildFiF:function(config){var settings=FiF.core.settings=FiF.core.mergeObj(FiF.core.settings,config),d=doc,fifBody="",fifId="",idocContent="",iframeModel="",fifElement="",fif=null,fifHTML="",ph=null;if(settings.adcode){fifBody='<!DOCTYPE html><html><body style="background-color:transparent;" id="FiF_container"><script>'+settings.adcode+"</script></body></html>",fifId="fif_"+settings.placeholder,iframeModel='<iframe id="'+fifId+'" style="width:100%;height:100%;border:none" vspace="0" hspace="0" allowtransparency="true" scrolling="no" frameborder="no" marginwidth="0" marginheight="0"></iframe>';try{fifElement=d.getElementById(settings.placeholder),fifElement.innerHTML=iframeModel,"function"==typeof settings.callback&&settings.callback()}catch(error){FiF.core.debug.errors.push({HumanReadable:"Error appendind Iframe in placeholder",error:error})}fif=d.getElementById(fifId),idocContent=fif.contentWindow.document,idocContent.open(),
idocContent.write(fifBody)}else if(settings.adsrc||settings.justrender){var width=settings.width?settings.width+"px":"100%",height=settings.height?settings.height+"px":"100%";fifHTML='<iframe id="fif_'+settings.placeholder+'" style="position:absolute" vspace="0" hspace="0" allowtransparency="true" scrolling="no" frameborder="no" marginwidth="0" marginheight="0"></iframe>',ph=d.getElementById(settings.placeholder),ph.innerHTML=fifHTML,fif=d.getElementById("fif_"+settings.placeholder),settings.meta&&(fif.meta=settings.meta),fif.src=settings.fifsrc,fif.setAttribute("seamless","seamless"),(fif.frameElement||fif).style.cssText="width: "+width+"; height: "+height+"; border: 0;margin:0;padding:0;borderWidth:0",settings.justrender||(fif.fif_src=settings.adsrc),fif.onload=function(){settings.callback()}}else FiF.core.debug.errors.push("Neither src or code for ad were provided. Fix that! I do not do magic!")},mergeObj:function(o,ob){var z,obj={};for(z in ob)ob.hasOwnProperty(z)&&(obj[z]=ob[z]);return obj},debug:{errors:[]}},pub:{create:function(new_settings){FiF.core.buildFiF(new_settings)},showErrors:function(){window.console&&console.log(FiF.core.debug.errors)},reloadAll:function(){var iframes=document.getElementsByTagName("iframe"),if_length=iframes.length,fifid=null,pattern="/^fif_/",i=0;for(i;if_length>i;i+1)fifid=iframes[i].id,pattern.test(fifid)&&FiF.pub.reload(fifid.replace("fif_",""))},reload:function(fifid){var iframe=document.getElementById("fif_"+fifid);iframe?document.getElementById("fif_"+fifid).contentDocument.location.reload(!0):FiF.core.debug.errors.push("Error trying to reload an Iframe. The Friendly Iframe with id fif_"+fifid+" was not found.")}}};return FiF.pub}(document),PUBLIC_STATIC=AdManager=function(obj){this.getViewportAds=function(viewportN){var context=this;return PRIVATE.settings.NO_ADS?Promise.resolve():PRIVATE.setup({tgmkey:PRIVATE.settings.tgmkey}).then(function(){var viewport=viewportN>PRIVATE.settings.VIEWPORT_MAX?PRIVATE.settings.VIEWPORT_ORDER[PRIVATE.calcViewportN(viewportN)]:viewportN,url=PRIVATE.env[PRIVATE.curEnv].tagmanURL+"?key="+PRIVATE.settings.TGMKEY+".s"+viewport+"&area=s"+viewportN+"&direct=1";return PRIVATE.loadShowArea({type:"viewport",calculateArea:"s"+viewport,originalArea:viewportN,url:url,context:context})})},this.createAds=function(conf){var returnedAds=[];if(!conf||"object"!=typeof conf||"[object Array]"!=Object.prototype.toString.call(conf.ADS)||!conf.ADS.length)throw new Error("Invalid ad configuration array");var current,adsLen=conf.ADS.length,i=0;if(adsLen>0)for(i;adsLen>i;i+=1)current=conf.ADS[i],current&&"object"==typeof current?current.placeholder&&"string"==typeof current.placeholder&&document.getElementById(current.placeholder)?PRIVATE.pageAds[current.placeholder]?PRIVATE.log("[WARN] Discarting item passed to createdAds. Ad already created: "+current.placeholder):returnedAds.push(PRIVATE.render(current)):PRIVATE.log("[WARN] Discarting item passed to createdAds. Invalid placeholder: "+current.placeholder):PRIVATE.log("[WARN] Discarting item passed to createdAds. Invalid configuration object.");else PRIVATE.log("[ERROR] None DFP ads found");return Promise.all(returnedAds)},this.stickAd=function(conf){var context=this;return PRIVATE.settings.NO_ADS?Promise.resolve():PRIVATE.setup({tgmkey:conf.tgmkey}).then(function(){var stickTgmkey=(conf.tgmkey?conf.tgmkey:PRIVATE.settings.TGMKEY)+"."+conf.area,url=PRIVATE.env[PRIVATE.curEnv].tagmanURL+"?key="+stickTgmkey+"&area="+conf.area+"&direct=1";return PRIVATE.loadShowArea({type:"stick",calculateArea:stickTgmkey,originalArea:stickTgmkey,area:conf.area,url:url,context:context,customKW:conf.customKW}).then(function(obj){var ads=obj.ADS;return ads&&ads.length>0&&(ads[0].placeholder=conf.placeholder.id),obj.instance.createAds({tgmkey:"br",ADS:ads})})})},this.multiTagsAd=function(conf){var context=this;return PRIVATE.settings.NO_ADS?Promise.resolve():PRIVATE.setup({tgmkey:conf.tgmkey}).then(function(){var stickTgmkey=(conf.tgmkey?conf.tgmkey:PRIVATE.settings.TGMKEY)+"."+conf.area,url=PRIVATE.env[PRIVATE.curEnv].tagmanURL+"?key="+stickTgmkey+"&area="+conf.area+"&direct=1";return console.log("CALL AD: ",url),PRIVATE.loadShowArea({type:"stick",calculateArea:stickTgmkey,originalArea:stickTgmkey,area:conf.area,url:url,context:context})})}},PUBLIC_STATIC.onError=function(p){},PUBLIC_STATIC.calcViewportN=function(n){var orderArray=PRIVATE.settings.VIEWPORT_ORDER,viewportMax=PRIVATE.settings.VIEWPORT_MAX;return n&&"number"==typeof n?viewportMax>=n?n:orderArray[PRIVATE.calcViewportN(n)]:!1},PUBLIC_STATIC.reload=function(placeholderId){if(!placeholderId||"string"!=typeof placeholderId||"object"!=typeof PRIVATE.pageAds[placeholderId])throw new Error("Invalid placeholder id to reload");var conf=PRIVATE.pageAds[placeholderId];return new Promise(function(resolve,reject){var elem=document.getElementById(conf.placeholder),wrapper=document.getElementById(conf.placeholder+"--wrapper");elem?(elem.style&&elem.offsetHeight&&wrapper&&(wrapper.style.height=elem.offsetHeight+"px",setTimeout(function(){"mob"==PRIVATE.settings.PLATFORM&&conf.parallax&&conf.parallax.visible&&conf.parallax.height>0?wrapper.style.height=conf.parallax.height+"px":wrapper.style.height="auto"},1500)),conf.reloaded=!0,PRIVATE.render(conf)):reject("Invalid ad placeholder")})},PUBLIC_STATIC.debug=function(){PRIVATE.isDeubugging=!0},PUBLIC_STATIC.get=function(key){var attribute=PRIVATE.attributes[key];return"function"==typeof attribute?attribute.call(this):attribute},PUBLIC_STATIC.set=function(key,value){key&&value&&(PRIVATE.attributes[key]=value,/setup_done_for_.+/.test(key)&&PRIVATE.setup({tgmkey:key.replace("setup_done_for_","")}))},PUBLIC_STATIC.getCurrentViewport=function(){return PRIVATE.curViewport},PUBLIC_STATIC.configure=function(obj){if(PRIVATE.log("[WARN] Public method configure was called..."),"object"!=typeof obj)throw"Invalid object configuration";obj.VIEWPORT_MAX&&obj.VIEWPORT_MAX>0&&(PRIVATE.settings.VIEWPORT_MAX=obj.VIEWPORT_MAX,PRIVATE.log("[WARN] Changing VIEWPORT_MAX to "+obj.VIEWPORT_MAX)),obj.DEFAULT_GOOGLE_TAG&&"string"==typeof obj.DEFAULT_GOOGLE_TAG&&(PRIVATE.settings.DEFAULT_GOOGLE_TAG=obj.DEFAULT_GOOGLE_TAG,PRIVATE.log("[WARN] Changing DEFAULT_GOOGLE_TAG to "+obj.DEFAULT_GOOGLE_TAG)),obj.DFP_TIMEOUT&&"number"==typeof obj.DFP_TIMEOUT&&(PRIVATE.settings.DFP_TIMEOUT=obj.DFP_TIMEOUT,PRIVATE.log("[WARN] Changing DFP_TIMEOUT to "+obj.DFP_TIMEOUT)),obj.TAGMAN_TIMEOUT&&"number"==typeof obj.TAGMAN_TIMEOUT&&(PRIVATE.settings.TAGMAN_TIMEOUT=obj.TAGMAN_TIMEOUT,PRIVATE.log("[WARN] Changing TAGMAN_TIMEOUT to "+obj.TAGMAN_TIMEOUT)),obj.PPI_TIMEOUT&&"number"==typeof obj.PPI_TIMEOUT&&(PRIVATE.settings.PPI_TIMEOUT=obj.PPI_TIMEOUT,PRIVATE.log("[WARN] Changing PPI_TIMEOUT to "+obj.PPI_TIMEOUT)),obj.THIRDPARTY_TIMEOUT&&"number"==typeof obj.THIRDPARTY_TIMEOUT&&(PRIVATE.settings.THIRDPARTY_TIMEOUT=obj.THIRDPARTY_TIMEOUT,PRIVATE.log("[WARN] Changing THIRDPARTY_TIMEOUT to "+obj.THIRDPARTY_TIMEOUT)),obj.DFP_IFRAME_INTERVAL_CHECKER&&"number"==typeof obj.DFP_IFRAME_INTERVAL_CHECKER&&(PRIVATE.settings.DFP_IFRAME_INTERVAL_CHECKER=obj.DFP_IFRAME_INTERVAL_CHECKER,PRIVATE.log("[WARN] Changing DFP_IFRAME_INTERVAL_CHECKER to "+obj.DFP_IFRAME_INTERVAL_CHECKER)),obj.htmlPath&&"string"==typeof obj.htmlPath&&(PRIVATE.env[PRIVATE.curEnv].htmlPath=obj.htmlPath,PRIVATE.log("[WARN] Changing htmlPath to "+obj.htmlPath)),obj.VIEWPORT_ORDER&&"object"==typeof obj.VIEWPORT_ORDER&&obj.VIEWPORT_ORDER.length>0&&(PRIVATE.settings.VIEWPORT_ORDER=obj.VIEWPORT_ORDER,PRIVATE.log("[WARN] Changing VIEWPORT_ORDER to "+obj.VIEWPORT_ORDER)),obj.TGMKEY&&(PRIVATE.tgmKeyHasChanged+=1,PRIVATE.lockTgmKeyChange?PRIVATE.log("[WARN] Attempt to change tgmkey was denied. Tgmkey parameter is present on the URL "+obj.TGMKEY):(PRIVATE.settings.TGMKEY=obj.TGMKEY,PRIVATE.log("[WARN] Changing TGMKEY to "+obj.TGMKEY))),obj.PLATFORM&&("mob"===obj.PLATFORM||"web"===obj.PLATFORM||"tab"===obj.PLATFORM||"responsive"===obj.PLATFORM?(PRIVATE.settings.PLATFORM=obj.PLATFORM,PRIVATE.log("[WARN] Changing PLATFORM to "+obj.PLATFORM)):PRIVATE.log("[ERROR] Invalid platform: "+obj.PLATFORM)),obj.TAGMAN_URL&&(PRIVATE.env[PRIVATE.curEnv].tagmanURL=obj.TAGMAN_URL,PRIVATE.settings.TAGMAN_URL=obj.TAGMAN_URL,PRIVATE.log("[WARN] Changing TAGMAN_URL to "+obj.TAGMAN_URL)),obj.ADS_METRICS_PUSH&&(obj.ADS_METRICS_PUSH&&"number"==typeof obj.ADS_METRICS_PUSH?(PRIVATE.settings.ADS_METRICS_PUSH=obj.ADS_METRICS_PUSH,PRIVATE.log("[WARN] Changing ADS_METRICS_PUSH to "+obj.ADS_METRICS_PUSH)):PRIVATE.log("[ERROR] Error changing ADS_METRICS_PUSH - Invalid parameter"))},PUBLIC_STATIC.defineAd=function(config,meta){var id="AdManager_"+Math.random().toString(32).slice(2);if(!config||"object"!=typeof config)throw"Invalid ad configuration";config.id=id,PRIVATE.log("[INFO] isolated rendering single call: "+JSON.stringify(config)),PRIVATE.ads[id]=config},PUBLIC_STATIC.outOfPage=function(conf){return PRIVATE.settings.NO_ADS?!1:void PRIVATE.getGPT().then(function(){var elemID="out-of-page-terra-ad";if(!document.getElementById(elemID)){var elem=document.createElement("div");elem.setAttribute("id",elemID),document.getElementsByTagName("body")[0].appendChild(elem),window.googletag.cmd.push(function(){var slot=googletag.defineOutOfPageSlot(top.AdManager.get("google_tag"),elemID);slot.addService(googletag.pubads()),PRIVATE.setKeywords(slot,conf),window.googletag.pubads().refresh([slot]),window.googletag.display(elemID),window.googletag.enableServices()})}})},PUBLIC_STATIC.setup=function(obj){var promise=new Promise(function(resolve,reject){return!obj||obj.tgmKey?void reject("Invalid tgmkey"):void PRIVATE.setup(obj).then(function(){resolve()},function(){reject()})});return promise},PUBLIC_STATIC.STATIC=PRIVATE,window.AdManager=PUBLIC_STATIC,PRIVATE.init(),"object"==typeof window.zaz&&"function"==typeof zaz.use&&zaz.use(function(pkg){try{pkg.define("mod.adManager",[],function(){return PUBLIC_STATIC})}catch(e){window.console&&window.console.warn&&window.console.warn('Exception registering "mod.adManager" on ZaZ Includer: '+e.message)}})}()},{}]},{},[1]);